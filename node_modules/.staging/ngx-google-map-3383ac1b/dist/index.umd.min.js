/**
 * ngx-google-map - ngx-google-map is a angular 4 and above component for angular apps.
 * @version v1.0.0
 * @author Manish Kumar
 * @link https://github.com/manishjanky/ngx-google-map#readme
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/common"],t):"object"==typeof exports?exports.ticktock=t(require("@angular/core"),require("@angular/common")):e.ticktock=t(e.ng.core,e.ng.common)}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),a=function(){function e(){this.mapType="ROADMAP",this.multiplePlaces=!1,this.mapClick=new i.EventEmitter,this.markerClick=new i.EventEmitter,this.locationSelected=new i.EventEmitter,this.mapOptions={center:new google.maps.LatLng(51.5073391,-.1284288),zoom:16,mapTypeControl:!0},this.markers=[],this.infoWindow=null,this.selectedLocations=[],console.log("Initializing Map")}return e.prototype.ngOnInit=function(){this.mapOptions.mapTypeId=google.maps.MapTypeId[this.mapType],this.mapOptions.mapTypeControlOptions={style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.LEFT_BOTTOM},this.mapInstance=new google.maps.Map(this.mapElement.nativeElement,this.mapOptions),this.initMap()},e.prototype.initMap=function(){this.addSearchBox(),this.addDoneButton(),this.initMapEvents()},e.prototype.initMapEvents=function(){var e=this;google.maps.event.addListener(this.mapInstance,"click",function(t){e.placeMarkerAndPanTo(t.latLng),e.mapClick.emit(t),console.log(t)})},e.prototype.addDoneButton=function(){var e=this,t=this.doneButton.nativeElement;t.index=1,t.addEventListener("click",function(t){e.locationSelected.emit({event:t,locations:e.selectedLocations}),console.log(e.selectedLocations)}),this.mapInstance.controls[google.maps.ControlPosition.BOTTOM_CENTER].push(t)},e.prototype.placeMarkerAndPanTo=function(e){this.multiplePlaces||this.clearMarkers();var t=new google.maps.Marker({position:e,map:this.mapInstance,draggable:!0});this.markers.push(t),this.getMarketLocation(t),this.addClickToMarker(t),this.addDragToMarker(t),this.mapInstance.panTo(e)},e.prototype.addDragToMarker=function(e){var t=this;google.maps.event.addListener(e,"dragend",function(o){t.getMarketLocation(e)})},e.prototype.getMarketLocation=function(e){var t=e.getPosition(),o={};if(o.latitude=t.lat(),o.longitude=t.lng(),this.multiplePlaces)return void this.selectedLocations.push(o);this.selectedLocations[0]=o},e.prototype.addClickToMarker=function(e){var t=this,o=new google.maps.Geocoder;google.maps.event.addListener(e,"click",function(n){t.infoWindow&&t.infoWindow.close(),t.infoWindow=new google.maps.InfoWindow,n&&t.getFromattedAddress(o,n.latLng.toUrlValue(),t.infoWindow),t.infoWindow.open(t.mapInstance,e),t.markerClick.emit(n),console.log(n)})},e.prototype.addSearchBox=function(){this.mapSearchBox=new google.maps.places.SearchBox(this.searchInput.nativeElement),this.mapInstance.controls[google.maps.ControlPosition.TOP_LEFT].push(this.searchInput.nativeElement),this.addSearchEvent()},e.prototype.getFromattedAddress=function(e,t,o){var n=t.split(","),r={lat:parseFloat(n[0]),lng:parseFloat(n[1])};e.geocode({location:r},function(e,t){"OK"===t&&e[0]&&o.setContent(e[0].formatted_address)})},e.prototype.addSearchEvent=function(){var e=this;this.mapSearchBox.addListener("places_changed",function(){e.searchPlace()})},e.prototype.clearMarkers=function(){var e=this;this.markers.forEach(function(t,o){t.setMap(null),e.markers.splice(o,1)})},e.prototype.searchPlace=function(){var e=this,t=this.mapSearchBox.getPlaces();if(0!==t.length){this.clearMarkers();var o=new google.maps.LatLngBounds;t.forEach(function(t){if(!t.geometry)return void console.log("Returned place contains no geometry");t.icon,new google.maps.Size(71,71),new google.maps.Point(0,0),new google.maps.Point(17,34),new google.maps.Size(25,25);e.placeMarkerAndPanTo(t.geometry.location),t.geometry.viewport?o.union(t.geometry.viewport):o.extend(t.geometry.location)}),this.mapInstance.fitBounds(o)}},n([i.Input(),r("design:type",String)],e.prototype,"mapType",void 0),n([i.Input(),r("design:type",Boolean)],e.prototype,"multiplePlaces",void 0),n([i.Output(),r("design:type",i.EventEmitter)],e.prototype,"mapClick",void 0),n([i.Output(),r("design:type",i.EventEmitter)],e.prototype,"markerClick",void 0),n([i.Output(),r("design:type",i.EventEmitter)],e.prototype,"locationSelected",void 0),n([i.ViewChild("map"),r("design:type",i.ElementRef)],e.prototype,"mapElement",void 0),n([i.ViewChild("searchBox"),r("design:type",i.ElementRef)],e.prototype,"searchInput",void 0),n([i.ViewChild("doneBtn"),r("design:type",i.ElementRef)],e.prototype,"doneButton",void 0),e=n([i.Component({selector:"ngx-google-map",template:o(5),styles:[o(6)]}),r("design:paramtypes",[])],e)}();t.NgxGoogleMapComponent=a},function(t,o){t.exports=e},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(3);t.NgxGoogleMapComponent=n.NgxGoogleMapComponent;var r=o(9);t.NgxGoogleMapModule=r.NgxGoogleMapModule},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}(o(4))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}(o(0))},function(e,t){e.exports='<div class="maps-wrapper">\r\n  <div class="search-field">\r\n    <input id=\'pac-input\' class=\'search-box\' type="text" #searchBox>\r\n  </div>\r\n  <button class="done-button" #doneBtn>Done</button>\r\n  <div #map class="map">\r\n  </div>\r\n</div>'},function(e,t,o){var n=o(7);e.exports="string"==typeof n?n:n.toString()},function(e,t,o){t=e.exports=o(8)(!1),t.push([e.i,".maps-wrapper {\n  padding: 10px;\n  max-width: 100%; }\n  .maps-wrapper .map {\n    min-width: 300px;\n    min-height: 300px; }\n\n.search-box {\n  box-sizing: border-box;\n  display: block;\n  width: 75%;\n  min-width: 200px !important;\n  padding: 0.1em 0.5em;\n  margin-top: 10px;\n  font-size: 1rem;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: .25rem;\n  transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out; }\n  .search-box:focus {\n    color: #495057;\n    background-color: #fff;\n    border-color: #80bdff;\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25); }\n\n.done-button {\n  direction: ltr;\n  overflow: hidden;\n  text-align: center;\n  position: relative;\n  color: black;\n  font-family: Roboto, Arial, sans-serif;\n  user-select: none;\n  font-size: 11px;\n  background-color: white;\n  padding: 9px;\n  border: none;\n  margin-bottom: 38px;\n  background-clip: padding-box;\n  box-shadow: rgba(0, 0, 0, 0.3) 0px 1px 4px -1px;\n  min-width: 21px;\n  font-weight: 500; }\n  .done-button:hover {\n    background: lightgray; }\n",""])},function(e,t){function o(e,t){var o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var i=n(r);return[o].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([i]).join("\n")}return[o].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=o(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&n[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),t.push(a))}},t}},function(e,t,o){"use strict";var n=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),i=o(1),a=o(10),s=function(){function e(){}return e=n([i.NgModule({declarations:[r.NgxGoogleMapComponent],imports:[a.CommonModule],exports:[r.NgxGoogleMapComponent],providers:[],bootstrap:[]})],e)}();t.NgxGoogleMapModule=s},function(e,o){e.exports=t}])});
//# sourceMappingURL=index.umd.min.js.map